(()=>{var i=class{constructor(){this.elements={content:document.getElementById("content"),articles:document.querySelectorAll(".article"),icons:document.querySelectorAll(".icon"),answers:document.querySelectorAll(".answer"),questionBtns:document.querySelectorAll(".question-btn")},this.init()}init(){this.updateAttributes(),this.bindEvents()}updateAttributes(){this.elements.articles.forEach((e,t)=>{let n=e.querySelector(".question-btn"),o=e.querySelector(".question"),s=e.querySelector(".answer"),r=`question${t+1}`,c=`answer${t+1}`;o.id=r,s.id=c,n.setAttribute("aria-controls",c),s.setAttribute("aria-labelledby",r),s.setAttribute("aria-live","polite")})}bindEvents(){this.elements.content.addEventListener("click",t=>{if(t.target.closest(".question-btn")){let n=t.target.closest(".question-btn");if(n.getAttribute("aria-expanded")=="true")return;this.expandArticle(n),n.setAttribute("aria-expanded","true")}});let e=this.elements.questionBtns;e.forEach((t,n)=>{t.addEventListener("keydown",o=>{let s;switch(o.key){case"ArrowDown":s=(n+1)%e.length,e[s].focus(),console.log("arrowdown");break;case"ArrowUp":s=(n-1+e.length)%e.length,console.log("arrowup"),e[s].focus();break;case"Home":e[0].focus();break;case"End":e[e.length-1].focus();break}})})}collapseArticles(){this.elements.questionBtns.forEach(e=>{e.nextElementSibling.classList.add("hidden"),e.setAttribute("aria-expanded","false"),this.manageIcon(e.querySelector(".plus-icon"),e.querySelector(".minus-icon"))})}manageIcon(e,t){e.classList.remove("hidden"),t.classList.add("hidden")}expandArticle(e){this.collapseArticles(),this.manageIcon(e.querySelector(".minus-icon"),e.querySelector(".plus-icon")),e.nextElementSibling.classList.remove("hidden")}};document.addEventListener("DOMContentLoaded",()=>{new i});})();
